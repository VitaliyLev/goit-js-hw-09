{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEAC,IAAM,CACJC,OAAQC,SAASC,cAAc,QAC/BC,gBAAiBF,SAASG,iBAAiB,UAG7C,IAAIC,EAAgB,KA8CpBN,IAAIC,OAAOM,iBAAiB,UA5C5B,SAAoCC,GAClCA,EAAEC,iBAEF,IAAMC,EAAaC,OAAOH,EAAEI,OAAOC,SAASC,MAAMC,OAC5CC,EAAYL,OAAOH,EAAEI,OAAOC,SAASI,KAAKF,OAC1CG,EAAcP,OAAOH,EAAEI,OAAOC,SAASM,OAAOJ,OAWhDK,EAAQV,EACRW,EAAW,EACXC,EAAgB,EAEpBhB,EAAgBiB,aAAY,WA0B9B,IAAuBC,EAAUV,EAxB7BQ,GAAiB,GAwBEE,EAzBnBH,GAAY,EAyBiBP,EAtBLM,EAuBnB,IAAIK,SAAQ,SAACC,EAAUC,GACNC,KAAKC,SAAW,GAEpCH,EAAS,CAAEF,WAAUV,UAErBa,EAAW,CAAEH,WAAUV,S,KA3BtBgB,MAAK,SAAAC,G,IAAGP,EAAQO,EAARP,SAAUV,EAAKiB,EAALjB,MACjBkB,EAAAlC,GAASmC,OAAOC,QACd,uBAAwCC,OAAfX,EAAS,QAAYW,OAANrB,EAAM,M,IAGjDsB,OAAM,SAAAL,G,IAAGP,EAAQO,EAARP,SAAUV,EAAKiB,EAALjB,MAClBkB,EAAAlC,GAASmC,OAAOI,QACd,sBAAqCF,OAAfX,EAAS,QAAYW,OAANrB,EAAM,M,IAI7CQ,GAAiBJ,EACnBoB,cAAchC,GAGhBc,GAASJ,C,GACRA,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nref = {\n  formEl: document.querySelector('form'),\n  inputValueAllEl: document.querySelectorAll('input'),\n};\n\nlet setIntervalId = null;\n\nfunction handleSubmitCreatePromises(e) {\n  e.preventDefault();\n\n  const delayValue = Number(e.target.elements.delay.value);\n  const stepValue = Number(e.target.elements.step.value);\n  const amountValue = Number(e.target.elements.amount.value);\n\n  \n  // const {\n  //   elements: { delay, step, amount },\n  // } = e.currentTarget;\n\n  // const delayValue = Number(delay.value);\n  // const stepValue = Number(step.value);\n  // const amountValue = Number(amount.value);\n\n  let delay = delayValue;\n  let position = 0;\n  let intervalValue = 0;\n\n  setIntervalId = setInterval(() => {\n    position += 1;\n    intervalValue += 1;\n\n    createPromise(position, delay)\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms`\n        );\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.warning(\n          `❌ Rejected promise ${position} in ${delay}ms`\n        );\n      });\n\n    if (intervalValue >= amountValue) {\n      clearInterval(setIntervalId);\n      return;\n    }\n    delay += stepValue;\n  }, stepValue);\n}\n\nref.formEl.addEventListener('submit', handleSubmitCreatePromises);\n\nfunction createPromise(position, delay) {\n  return new Promise((resolves, rejecteded) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolves({ position, delay });\n    } else {\n      rejecteded({ position, delay });\n    }\n  });\n}\n"],"names":["$iU1Pc","parcelRequire","ref","formEl","document","querySelector","inputValueAllEl","querySelectorAll","$ce04d3a99e08e73b$var$setIntervalId","addEventListener","e","preventDefault","delayValue","Number","target","elements","delay","value","stepValue","step","amountValue","amount","delay1","position1","intervalValue","setInterval","position","Promise","resolves","rejecteded","Math","random","then","param","$parcel$interopDefault","Notify","success","concat","catch","warning","clearInterval"],"version":3,"file":"03-promises.d12844c9.js.map"}